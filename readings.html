<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reading Page</title>
  <!-- Load PDF.js library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
  <link rel="stylesheet" href="./styles/reading.css">
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">ReadQuest</div>
    <nav>
      <a href="library.html">‚Üê Back to Library</a>
    </nav>
    <div id="bookInfo" style="color: white; font-size: 14px;"></div>
  </header>

  <!-- Loading Spinner -->
  <div class="loading" id="loadingSpinner">
    <div class="spinner"></div>
    <p>Loading book...</p>
  </div>

  <!-- Error Message -->
  <div class="error-message" id="errorMessage">
    <h3>Error Loading Book</h3>
    <p id="errorText"></p>
    <button onclick="window.location.href='library.html'" style="margin-top: 10px; padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
      Back to Library
    </button>
  </div>

  <!-- Access Denied Message -->
  <div class="access-denied" id="accessDenied" style="display: none;">
    <h3>üîí Access Required</h3>
    <p>You need to purchase this book to read it.</p>
    <button class="purchase-btn" id="purchaseBtn">Purchase Book</button>
  </div>

  <!-- Chapter Header -->
  <section class="chapter-header" id="chapterHeader" style="display: none;">
    <h1 id="bookTitle">Loading Book...</h1>
    <div class="meta">
      <span id="bookMeta">Loading book information...</span>
    </div>
  </section>

  <!-- PDF Viewer -->
  <div class="pdf-container" id="pdfContainer" style="display: none;">
    <canvas id="pdf-canvas"></canvas>
    <div class="zoom-controls">
      <button id="zoomOut">Zoom Out</button>
      <span id="zoomLevel">100%</span>
      <button id="zoomIn">Zoom In</button>
    </div>
    <div class="pdf-controls">
      <button class="btn blue" id="prevPage">‚Üê Previous Page</button>
      <span class="page-info">Page <span id="currentPage">1</span> of <span id="totalPages">0</span></span>
      <button class="btn blue" id="nextPage">Next Page ‚Üí</button>
    </div>
  </div>

  <!-- Floating Buttons -->
  <div class="floating-btns">
    <button class="fab purple" id="settingsFab">‚öô</button>
    <button class="fab red" id="saveFab">‚ù§Ô∏è</button>
    <button class="fab blue" id="scrollTop">‚¨Ü</button>
  </div>

  <!-- Settings Panel -->
  <div class="settings-panel" id="settingsPanel">
    <h3>‚öô Reader Settings</h3>
    <label>Zoom Level:</label>
    <input type="range" id="zoomControl" min="50" max="200" value="100">
    <label>
      <input type="checkbox" id="darkModeToggle"> Dark Mode
    </label>
  </div>

  <script src="/scripts/reading.js"></script>
</body>
</html>